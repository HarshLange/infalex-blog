---
import BaseLayout from "./BaseLayout.astro";

// Added readTime to props
const { title, description, date, thumbnail, readTime } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <article class="max-w-2xl mx-auto px-6 py-12 md:py-20">
    <header class="mb-10">
      <div
        class="flex items-center gap-3 text-sm text-gray-500 mb-6 font-medium"
      >
        <time datetime={date.toISOString()}>
          {
            new Date(date).toLocaleDateString("en-US", {
              month: "long",
              day: "numeric",
              year: "numeric",
            })
          }
        </time>

        <span class="text-gray-300">â€¢</span>

        <span class="text-slate-800 font-semibold">{readTime}</span>
      </div>

      <h1
        class="text-4xl md:text-5xl font-bold text-slate-900 mb-6 leading-[1.1] tracking-tighter"
      >
        {title}
      </h1>

      <p class="text-xl text-gray-600 leading-relaxed">
        {description}
      </p>
    </header>

    {
      thumbnail && (
        <div class="rounded-lg overflow-hidden border border-gray-100 mb-12 bg-gray-50">
          <img
            src={thumbnail}
            alt={title}
            class="w-full object-cover"
            loading="lazy"
          />
        </div>
      )
    }

    <div
      class="prose prose-lg prose-slate max-w-none
             prose-headings:font-bold prose-headings:tracking-tighter prose-headings:text-slate-900
             prose-p:text-gray-800 prose-p:leading-8 prose-p:font-normal
             prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
             prose-strong:font-semibold prose-strong:text-slate-900
             prose-li:marker:text-gray-400 prose-li:text-gray-800
             prose-img:rounded-lg prose-img:border prose-img:border-gray-100"
    >
      <slot />
    </div>

    <div class="mt-16 pt-8 border-t border-gray-100">
      <div class="flex items-center gap-3">
        <div
          class="h-10 w-10 rounded-full bg-blue-700 flex items-center justify-center text-white font-bold text-sm"
        >
          I
        </div>
        <div>
          <p class="text-slate-900 font-semibold text-sm">Infalex</p>
          <p class="text-gray-500 text-xs">Engineering Team</p>
        </div>
      </div>
    </div>
  </article>

  <style is:inline>
    /* Vercel-style Highlights */
    .prose strong {
      color: #0070f3;
      font-weight: 600;
    }

    .prose ul,
    .prose ol {
      margin-top: 1.5em;
      margin-bottom: 1.5em;
    }

    .prose li {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
      padding-left: 0.5em;
    }

    .prose blockquote {
      border-left: 3px solid #eaeaea;
      padding-left: 1.5rem;
      color: #444; /* Made quote text darker too */
      font-style: normal;
      margin-left: 0;
    }

    /* Give Headings massive breathing room above them */
    .prose h2 {
      font-size: 1.5rem; /* 30px - significantly larger than body text */
      line-height: 1.3;
      margin-top: 3em; /* Large gap above to separate sections */
      margin-bottom: 1em;
      color: #0f172a; /* Dark Slate (almost black) for contrast */
      letter-spacing: -0.02em; /* Tight tracking for that professional look */
    }

    /* Make H3 (Sub-headings) slightly smaller than H2, but still big */
    .prose h3 {
      font-size: 1rem; /* 24px */
      line-height: 1.4;
      margin-top: 2em;
      margin-bottom: 0.75em;
      color: #0f172a;
    }

    /* Remove the default horizontal rule style if you have any */
    .prose hr {
      border: none;
      height: 1.5px;
      /* Gradient: Transparent -> Gray -> Transparent */
      background: linear-gradient(to right, transparent, #e2e8f0, transparent);
      margin-top: 4em;
      margin-bottom: 4em;
    }
  </style>
</BaseLayout>
