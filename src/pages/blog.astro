---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
---

<BaseLayout title="Blog â€“ Infalex" description="Infalex articles">
  <Header />

  <section class="container" style="padding:60px 0;">
    <h1 style="font-size:36px;margin-bottom:32px;">Blog</h1>

    <div style="display:grid;gap:24px;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));">
      {posts.map((post) => (
        <div class="card">
          <a href={`/posts/${post.slug}`} style="font-size:20px;font-weight:600;">
            {post.data.title}
          </a>

          <p style="color:var(--text-muted);margin-top:8px;">
            {post.data.description}
          </p>

          <p style="font-size:13px;color:#94a3b8;margin-top:16px;">
            {post.data.date}
          </p>
        </div>
      ))}
    </div>
  </section>

  <Footer />
</BaseLayout>
